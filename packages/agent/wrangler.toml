name = "agent"
main = "worker/index.ts"
compatibility_date = "2024-09-10"
compatibility_flags = ["nodejs_compat"]

[assets]
directory = "dist"
not_found_handling = "single-page-application"
run_worker_first = ["/api/*", "/mcp/*", "/auth/*"]

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "agent-db"
database_id = "5d37dc65-7771-4e1a-bd9f-18d271fef90b"

# Environment variables (for development)
# For production, use: wrangler secret put OPENAI_API_KEY
[vars]
# OPENAI_API_KEY will be set as a secret
# STRIPE_SECRET_KEY will be set as a secret
